<!DOCTYPE html>
<html th:fragment="layout(title, links, scripts, content, subnav)" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>

	<title  th:text="#{app.title}">HDSS</title>
	<base href="/">
	<!-- common links -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
	<link rel="stylesheet" href="https://printjs-4de6.kxcdn.com/print.min.css">


	<style>
		body {
			background-color: rgb(57, 106, 147);
		}


		.workspace {
			background-color: #92c7f2;
		}

		.formspace {
			background-color: rgb(33, 63, 86) !important;
			color: #FFFFFF;
		}

		.btn-maroon {
			background-color: rgb(128, 0, 64);
			border-color: rgb(128, 0, 64);
		}

		.btn-maroon:hover {
			background-color: rgb(64, 0, 0) !important;
			border-color: rgb(64, 0, 0) !important;
		}
	</style>
</head>

<body class="me-5 ms-5 mt-1">
	<div th:if="${exceptionMsg}" class="alert alert-danger" th:text="${exceptionMsg}"></div>


	<div th:insert="fragments/current-user"></div>
	<div th:insert="fragments/menubar-main"></div>


	<div class="mx-auto box-shadow">

		<div class="col-lg-6 col-md-6 col-sm-6 container justify-content-center card">
		<div class="card-header border-bottom">
		<p class="lead text-warning">[[#{label.users.update}]]</p>
	</div>
	<div class="card-body">
		<div class="row mb-3 mx-auto py-3">
			<form action="#" th:action="@{/controls/users/{id}(id=${selected.username})}" th:object="${selected}"
				class="needs-validation" novalidate>
				<div th:if="${success}" class="alert alert-warning" th:text="${success}"></div>
				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:utext="#{label.username}"></label>
					<div class="col-md-5">
						<input type="text" class="form-control form-control-sm" th:field="*{username}" readonly />
						<small class="text-danger" th:if="${#fields.hasErrors('username')}"
							th:errors="*{username}">error</small>
					</div>
				</div>

				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:utext="#{label.userEmail}"></label>
					<div class="col-md-5">
						<input type="email" class="form-control form-control-sm" th:field="*{user_email}" readonly />
					</div>
				</div>
				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:text="#{label.password}"></label>
					<div class="col-md-4">
						<input id="user_password" type="password" class="form-control form-control-sm"
							onChange="onChange()" th:field="*{user_password}" required />
					</div>
				</div>
				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:text="#{label.confirm.password}"></label>
					<div class="col-md-4">
						<input id="confirm_password" type="password" class="form-control form-control-sm"
							onChange="onChange()" required />
						<div class="invalid-feedback" th:text="#{password.mismatch}"></div>
					</div>
				</div>
				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:text="#{label.userFname}"></label>
					<div class="col-md-5">
						<input class="form-control form-control-sm" th:field="*{user_fname}" required />
					</div>
				</div>
				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:text="#{label.userLname}"></label>
					<div class="col-md-5">
						<input class="form-control form-control-sm" th:field="*{user_lname}" required />
					</div>
				</div>
				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:text="#{label.groups}"></label>
					<div class="col-md-5">
						<div class="row">
							<div class="col-md-12" th:each="option : ${user_groups}">
								<label class="form-label fw-bold"> <input type="checkbox" th:field="*{groups}"
										th:value="${option}" />
									[[${option.group_desc}]]
								</label>
							</div>
						</div>
					</div>
				</div>

				<div class="row mb-3">
					<label class="col-md-2 col-form-label" th:text="#{label.userenabled}"></label>
					<div class="col-md-8">
						<div class="custom-control custom-radio">
							<input id="login_disabled" name="login_status_check" type="radio"
								class="custom-control-input" required value="0" th:field="*{user_enabled}" /> <label
								class="custom-control-label text-secondary" for="login_disabled">Disabled</label>
						</div>
						<div class="custom-control custom-radio">
							<input id="login_enabled" name="login_status_check" type="radio"
								class="custom-control-input" required value="1" th:field="*{user_enabled}" /> <label
								class="custom-control-label text-success" for="login_enabled">Enabled</label>
						</div>
					</div>
				</div>
				<hr />
				

				<hr class="mb-4 bg-secondary">
				<div class="">
					<button class="btn btn-primary btn-lg" type="submit">SUBMIT</button>
					<a class="btn btn-secondary btn-lg" href="#" th:href="@{/controls/users}">CANCEL</a>
				</div>
			</form>
		</div>
	</div>
		</div>
	
	
	</div>

	<footer class="text-light text-center mb-4">
		<div th:insert="fragments/app-version"></div>
		<!-- common scripts -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
		<script src="https://printjs-4de6.kxcdn.com/print.min.js"></script>

		
	</footer>

</body>

</html>

